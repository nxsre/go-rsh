syntax = "proto3";


option go_package = "github.com/nxsre/go-rsh/pb;pb";

package rsh;

service RemoteShell {
  rpc Session (stream Input) returns (stream Output) {}
}

message Input {
  int32 Signal = 1;
  bytes Bytes = 2;
  bool Start = 3;
  bool Terminal = 4; // 是否开启终端模式，类似 docker -t
  string Command = 5;
  repeated string Args = 6;
}

message Output {
  bytes Stdout = 1;
  bytes Stderr = 2;
  int32 ExitCode = 3;
  int32 Status = 4; // 用于判断命令是否已结束
}


